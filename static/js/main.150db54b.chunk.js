(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(43)},22:function(e,t,a){},24:function(e,t,a){},28:function(e,t,a){},30:function(e,t,a){},32:function(e,t,a){},37:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(15),s=a.n(i),l=a(2),o=a(3),c=a(5),m=a(4),u=a(6),p=(a(22),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-login"},r.a.createElement("h1",{id:"react-app"},"Spotifly"),r.a.createElement("h5",null,"Step 1:- Click on the button below to sign in and authorize your account to use the app."),r.a.createElement("h5",null,"Step 2:- That's it!"),r.a.createElement("a",{href:"https://accounts.spotify.com/en/authorize/?client_id=".concat("54023f00676d404aa81cafd195a5b9f5","&response_type=token&redirect_uri=").concat("https://elvinlkw.github.io/react-spotifly/","&scope=").concat("user-read-private user-read-email user-library-read user-top-read user-read-recently-played user-read-currently-playing")},r.a.createElement("button",{className:"btn btn-success"},r.a.createElement("span",null,"Sign In !"))))}}]),t}(n.Component)),h=a(47),f=a(44),d=a(10),v=a.n(d),y=(a(24),a(26),new v.a),k=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e));var n=window.location.href;if(n.indexOf("token=")>-1)var r=n.split("token=")[1].split("&")[0].trim();return a.state={topTrack:"",topTrackArtwork:"",topTrackLoaded:!1,topArtist:"",topArtistArtwork:"",topArtistPreview:"",topArtistTrack:"",topPreviewLoaded:!1,favoriteGenres:{}},y.setAccessToken(r),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;y.getMyTopTracks({time_range:"long_term"}).then(function(t){for(var a="",n=0;n<t.items[0].artists.length;n++)a.length>1?a+=", "+t.items[0].artists[n].name:a+=t.items[0].artists[n].name;e.setState({topTrack:a+" - "+t.items[0].name,topTrackArtwork:t.items[0].album.images[1].url,topTrackPreview:t.items[0].preview_url,topTrackLoaded:!0})},function(e){alert("Data Could Not Be Retrieved!")}),y.getMyTopArtists({time_range:"long_term",limit:"1"}).then(function(t){return e.setState({topArtist:t.items[0].name,topArtistArtwork:t.items[0].images[1].url}),t.items[0].id}).then(function(t){y.getArtistTopTracks(t,"US").then(function(t){e.setState({topPreviewLoaded:!0,topArtistTrack:t.tracks[0].name,topArtistPreview:t.tracks[0].preview_url})})}),y.getMyTopArtists({time_range:"long_term",limit:"50"}).then(function(t){for(var a,n,r={},i=0;i<t.items.length;i++)for(var s=0;s<t.items[i].genres.length;s++)a=t.items[i].genres[s].split(/[ -]+/).join("_"),Object.keys(r).includes(a)?r[a]+=1:r[a]=1;n=e.sortResult(r),e.setState({favoriteGenres:n})})}},{key:"sortResult",value:function(e){var t,a=0,n=0,r=0,i=0,s={};for(var l in e)a<(t=e[l])?a=t:n<t?n=t:r<t?r=t:i<t&&(i=t);for(var o in e)e[o]===a?s[o]=Math.ceil(a/50*100):e[o]===n?s[o]=Math.ceil(n/50*100):e[o]===r?s[o]=Math.ceil(r/50*100):e[o]===i&&(s[o]=Math.ceil(i/50*100));return s}},{key:"render",value:function(){var e=this;document.addEventListener("play",function(e){for(var t=document.getElementsByTagName("audio"),a=0,n=t.length;a<n;a++)t[a]!==e.target&&(t[a].pause(),document.getElementsByTagName("i")[a].className="fa fa-play fa-2x")},!0);var t=function(e){var t=document.getElementsByTagName("i")[e].className,a=document.getElementsByTagName("audio");t.includes("play")?(t=t.replace("play","pause"),a[e].play()):(t=t.replace("pause","play"),a[e].pause()),document.getElementsByTagName("i")[e].className=t};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-current-top"},r.a.createElement("div",{className:"wrapper-top-header"},r.a.createElement("h1",null,"All Time Top Track"),r.a.createElement("img",{alt:"Could Not Be Loaded",src:this.state.topTrackArtwork})),r.a.createElement("div",{className:"wrapper-top-preview"},r.a.createElement("h4",null,this.state.topTrack),this.state.topTrackLoaded&&this.state.topTrackPreview&&r.a.createElement("audio",{src:this.state.topTrackPreview}),!this.state.topTrackPreview&&r.a.createElement("p",null,"No Preview Available"),r.a.createElement("i",{onClick:function(){return t(0)},className:"fa fa-play fa-2x"}))),r.a.createElement("div",{className:"container-current-top"},r.a.createElement("div",{className:"wrapper-top-preview"},r.a.createElement("h4",null,this.state.topArtist),r.a.createElement("h6",null,"".concat(this.state.topArtist," - ").concat(this.state.topArtistTrack)),this.state.topPreviewLoaded&&this.state.topArtistPreview&&r.a.createElement("audio",{src:this.state.topArtistPreview}),!this.state.topArtistPreview&&r.a.createElement("p",null,"No Preview Available"),r.a.createElement("i",{onClick:function(){return t(1)},className:"fa fa-play fa-2x"})),r.a.createElement("div",{className:"wrapper-top-header"},r.a.createElement("h1",null,"All Time Top Artist"),r.a.createElement("img",{alt:"Could Not Be Loaded",src:this.state.topArtistArtwork}))),r.a.createElement("div",{className:"container-favorite-genres"},r.a.createElement("h1",{className:"text-center"},"Favorite Genres"),r.a.createElement("h4",{className:"text-center"},"Your most played tracks include the following genres: "),r.a.createElement("div",null,Object.keys(this.state.favoriteGenres).map(function(t){return r.a.createElement("div",{key:t,className:"genres"},r.a.createElement("h4",{style:{width:"20%",textAlign:"center"}},t.split("_").join(" ").toUpperCase()),r.a.createElement("h4",null,"".concat(e.state.favoriteGenres[t],"%")),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(e.state.favoriteGenres[t],"%")},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"})))}))))}}]),t}(n.Component),g=(a(28),new v.a),E=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(c.a)(this,Object(m.a)(t).call(this,e));var n=window.location.href;if(n.indexOf("token=")>-1)var r=n.split("token=")[1].split("&")[0].trim();return a.state={profile_img:"",country:"",display_name:"",email:"",id:"",account_type:"",link:"",followers:0},g.setAccessToken(r),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this;g.getMe().then(function(t){try{e.setState({country:t.country,display_name:t.display_name,profile_img:t.images[0].url,email:t.email,followers:t.followers.total,account_type:t.product,id:t.id,link:t.external_urls.spotify})}catch(a){alert("Your Information Was Not Successfully Retrieved. Try refreshing the page!")}},function(){alert("Profile Data Could Not Be Fetched!")})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-profile"},r.a.createElement("img",{src:this.state.profile_img,alt:"Could Not Be Loaded"}),r.a.createElement("h4",null,r.a.createElement("strong",null,"Country: "),this.state.country),r.a.createElement("h4",null,r.a.createElement("strong",null,"Display Name: "),this.state.display_name),r.a.createElement("h4",null,r.a.createElement("strong",null,"Email: "),this.state.email),r.a.createElement("h4",null,r.a.createElement("strong",null,"ID: "),this.state.id),r.a.createElement("h4",null,r.a.createElement("strong",null,"Followers: "),this.state.followers),r.a.createElement("h4",null,r.a.createElement("strong",null,"Account Type: "),this.state.account_type),r.a.createElement("h4",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:this.state.link},"Link")))}}]),t}(n.Component),b=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={itemList:[],dataValid:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.spotifyApi,a=[];t.getMyTopTracks({limit:50,time_range:"short_term"}).then(function(e){for(var t=0;t<e.items.length;t++){for(var n={},r="",i=0;i<e.items[t].artists.length;i++)r.length>1?r+=", "+e.items[t].artists[i].name:r+=e.items[t].artists[i].name;n.key=t+1,n.value=r+" - "+e.items[t].name,a.push(n)}},function(e){alert("Error: Could Not Retrieve Data From Server")}).then(function(){t.getMyTopTracks({limit:50,time_range:"short_term",offset:"49"}).then(function(t){for(var n=1;n<t.items.length;n++){for(var r={},i="",s=0;s<t.items[n].artists.length;s++)i.length>1?i+=", "+t.items[n].artists[s].name:i+=t.items[n].artists[s].name;r.key=n+50,r.value=i+" - "+t.items[n].name,a.push(r)}e.setState({itemList:a,dataValid:!0})})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{style:{fontWeight:"bold"}},"Short Term (4 weeks)"),r.a.createElement("ol",null,this.state.dataValid&&this.state.itemList.map(function(e){return r.a.createElement("li",{key:e.key},e.value)})))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={itemList:[],dataValid:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.spotifyApi,a=[];t.getMyTopTracks({limit:50,time_range:"medium_term"}).then(function(e){for(var t=0;t<e.items.length;t++){for(var n={},r="",i=0;i<e.items[t].artists.length;i++)r.length>1?r+=", "+e.items[t].artists[i].name:r+=e.items[t].artists[i].name;n.key=t+1,n.value=r+" - "+e.items[t].name,a.push(n)}},function(e){alert("Error: Could Not Retrieve Data From Server")}).then(function(){t.getMyTopTracks({limit:50,time_range:"medium_term",offset:"49"}).then(function(t){for(var n=1;n<t.items.length;n++){for(var r={},i="",s=0;s<t.items[n].artists.length;s++)i.length>1?i+=", "+t.items[n].artists[s].name:i+=t.items[n].artists[s].name;r.key=n+50,r.value=i+" - "+t.items[n].name,a.push(r)}e.setState({itemList:a,dataValid:!0})})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{style:{fontWeight:"bold"}},"Medium Term (Approximately 6 Months)"),r.a.createElement("ol",null,this.state.dataValid&&this.state.itemList.map(function(e){return r.a.createElement("li",{key:e.key},e.value)})))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={itemList:[],dataValid:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.spotifyApi,a=[];t.getMyTopTracks({limit:50,time_range:"long_term"}).then(function(e){for(var t=0;t<e.items.length;t++){for(var n={},r="",i=0;i<e.items[t].artists.length;i++)r.length>1?r+=", "+e.items[t].artists[i].name:r+=e.items[t].artists[i].name;n.key=t+1,n.value=r+" - "+e.items[t].name,a.push(n)}},function(e){alert("Error: Could Not Retrieve Data From Server")}).then(function(){t.getMyTopTracks({limit:50,time_range:"long_term",offset:"49"}).then(function(t){for(var n=1;n<t.items.length;n++){for(var r={},i="",s=0;s<t.items[n].artists.length;s++)i.length>1?i+=", "+t.items[n].artists[s].name:i+=t.items[n].artists[s].name;r.key=n+50,r.value=i+" - "+t.items[n].name,a.push(r)}e.setState({itemList:a,dataValid:!0})})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{style:{fontWeight:"bold"}},"Long Term (All Time)"),r.a.createElement("ol",null,this.state.dataValid&&this.state.itemList.map(function(e){return r.a.createElement("li",{key:e.key},e.value)})))}}]),t}(n.Component),T=(a(30),new v.a),w=function(e){function t(){var e;Object(l.a)(this,t),e=Object(c.a)(this,Object(m.a)(t).call(this));var a=window.location.href;if(a.indexOf("token=")>-1)var n=a.split("token=")[1].split("&")[0].trim();return T.setAccessToken(n),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"top-track-container"},r.a.createElement("h1",{className:"text-center"},"Top Tracks"),r.a.createElement("div",{className:"row"},r.a.createElement(b,{spotifyApi:T}),r.a.createElement(O,{spotifyApi:T}),r.a.createElement(j,{spotifyApi:T})))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={itemList:[],dataValid:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.spotifyApi,a=[];t.getMyTopArtists({limit:50,time_range:"short_term"}).then(function(e){for(var t=0;t<e.items.length;t++){var n={};n.key=t+1,n.value=e.items[t].name,a.push(n)}},function(e){alert("Error: Data could not be fetched!")}).then(function(){t.getMyTopArtists({limit:50,time_range:"short_term",offset:"49"}).then(function(t){for(var n=1;n<t.items.length;n++){var r={};r.key=n+50,r.value=t.items[n].name,a.push(r)}e.setState({itemList:a,dataValid:!0})})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{style:{fontWeight:"bold"}},"Short Term (4 Weeks)"),r.a.createElement("ol",null,this.state.dataValid&&this.state.itemList.map(function(e){return r.a.createElement("li",{key:e.key},e.value)})))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={itemList:[],dataValid:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.spotifyApi,a=[];t.getMyTopArtists({limit:50,time_range:"medium_term"}).then(function(e){for(var t=0;t<e.items.length;t++){var n={};n.key=t+1,n.value=e.items[t].name,a.push(n)}},function(e){alert("Error: Data could not be fetched!")}).then(function(){t.getMyTopArtists({limit:50,time_range:"medium_term",offset:"49"}).then(function(t){for(var n=1;n<t.items.length;n++){var r={};r.key=n+50,r.value=t.items[n].name,a.push(r)}e.setState({itemList:a,dataValid:!0})})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{style:{fontWeight:"bold"}},"Medium Term (Approximately 6 Months)"),r.a.createElement("ol",null,this.state.dataValid&&this.state.itemList.map(function(e){return r.a.createElement("li",{key:e.key},e.value)})))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={itemList:[],dataValid:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.spotifyApi,a=[];t.getMyTopArtists({limit:50,time_range:"long_term"}).then(function(e){for(var t=0;t<e.items.length;t++){var n={};n.key=t+1,n.value=e.items[t].name,a.push(n)}},function(e){alert("Error: Data could not be fetched!")}).then(function(){t.getMyTopArtists({limit:50,time_range:"long_term",offset:"49"}).then(function(t){for(var n=1;n<t.items.length;n++){var r={};r.key=n+50,r.value=t.items[n].name,a.push(r)}e.setState({itemList:a,dataValid:!0})})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{style:{fontWeight:"bold"}},"Long Term (All Time)"),r.a.createElement("ol",null,this.state.dataValid&&this.state.itemList.map(function(e){return r.a.createElement("li",{key:e.key},e.value)})))}}]),t}(n.Component),M=(a(32),new v.a),x=function(e){function t(){var e;Object(l.a)(this,t),e=Object(c.a)(this,Object(m.a)(t).call(this));var a=window.location.href.split("token=")[1].split("&")[0].trim();return M.setAccessToken(a),e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"top-artists-container"},r.a.createElement("h1",{className:"text-center"},"Top Artists"),r.a.createElement("div",{className:"row",style:{width:"100vw",overflowX:"hidden"}},r.a.createElement(_,{spotifyApi:M}),r.a.createElement(N,{spotifyApi:M}),r.a.createElement(A,{spotifyApi:M})))}}]),t}(n.Component),L=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(f.a,{exact:!0,path:"/",component:k}),r.a.createElement(f.a,{exact:!0,path:"/profile",component:E}),r.a.createElement(f.a,{exact:!0,path:"/top-tracks",component:w}),r.a.createElement(f.a,{exact:!0,path:"/top-artists",component:x}))}}]),t}(n.Component),C=a(46),S=(a(37),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.token;return r.a.createElement("div",{className:"navbar bg-dark navbar-expand"},r.a.createElement("span",{className:"navbar-brand"},r.a.createElement(C.a,{exact:!0,to:"/#access_token=".concat(e,"&token_type=Bearer&expires_in=3600"),className:"nav-link"},"Spotifly")),r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.a,{exact:!0,to:"/#access_token=".concat(e,"&token_type=Bearer&expires_in=3600"),className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.a,{exact:!0,to:"/profile#access_token=".concat(e,"&token_type=Bearer&expires_in=3600"),className:"nav-link"},"My Profile")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.a,{exact:!0,to:"/top-tracks#access_token=".concat(e,"&token_type=Bearer&expires_in=3600"),className:"nav-link"},"Top Tracks")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(C.a,{exact:!0,to:"/top-artists#access_token=".concat(e,"&token_type=Bearer&expires_in=3600"),className:"nav-link"},"Top Artists"))))}}]),t}(n.Component)),V=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={loggedIn:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=window.location.href;e.indexOf("token=")>-1&&(this.authToken=e.split("token=")[1].split("&")[0].trim(),this.setState({loggedIn:!0}))}},{key:"render",value:function(){return r.a.createElement("div",null,!this.state.loggedIn&&r.a.createElement(p,null),this.state.loggedIn&&r.a.createElement("div",null,r.a.createElement(S,{token:this.authToken}),r.a.createElement(L,{token:this.authToken})))}}]),t}(n.Component),B=a(45);a(39),a(41);s.a.render(r.a.createElement(B.a,{basename:"/react-spotifly"},r.a.createElement(V,null)),document.getElementById("root"))}},[[17,2,1]]]);
//# sourceMappingURL=main.150db54b.chunk.js.map